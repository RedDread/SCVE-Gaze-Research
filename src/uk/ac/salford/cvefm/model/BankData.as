package uk.ac.salford.cvefm.model 
{
	/**
	 * ...
	 * @author Claire Miller
	 */
	public class BankData 
	{
		private var _currentBlindsIndex:Number;
		private var _largeBlind:Number;
		private var _smallBlind:Number;
		
		private var _lastRaise:Number;
		private var _lastBet:Number;
		private var _pot:Number;
		
		private var _xml:XML;
		
		public function BankData (xml:XML) 
		{
			_lastBet = 0;
			_lastRaise = 0;
			_pot = 0;
			
			_xml = xml;
			
			_smallBlind = _xml.blinds.blind[0].@small;
			_largeBlind = _xml.blinds.blind[0].@large;
		}
		
		public function get smallBlind () :Number { return _smallBlind; }
		public function get largeBlind () :Number { return _largeBlind; }
		
		public function get lastRaise () :Number { return _lastRaise; }
		public function set lastRaise (raise:Number) :void { _lastRaise = raise; }
				
		public function get lastBet () :Number { return _lastBet; }
		public function set lastBet (bet:Number) :void { _lastBet = bet; }
		
		public function addToPot (bet:Number) :void { _pot += bet; }
		
		public function nextRound () :void
		{
			_currentBlindsIndex++;
			
			if (_currentBlindsIndex >= _xml.blinds.blind.length)
			{
				throw new Error ("BankData::nextRound no more blinds");
			}
			
			_smallBlind = _xml.blinds.blind[_currentBlindsIndex].@small;
			_largeBlind = _xml.blinds.blind[_currentBlindsIndex].@large;
		}
		
		
	}

}